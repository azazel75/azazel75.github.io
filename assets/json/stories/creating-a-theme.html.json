{
  "abs_permalink": "http://getnikola.com/stories/creating-a-theme.html",
  "template_name": "story.tmpl",
  "meta": {
    "description": "",
    "tags": "",
    "title": "Creating a Theme",
    "annotations": "",
    "keywords": "",
    "author": "",
    "template": "",
    "date": "2012-03-13 12:00:00 UTC-03:00",
    "password": "",
    "type": "text",
    "slug": "creating-a-theme"
  },
  "sourcelink": "/stories/creating-a-theme.rst",
  "id": "/stories/creating-a-theme.html.json",
  "author": "Nikola Tesla",
  "use_in_feeds": false,
  "translated_to": [],
  "text": "<div><p class=\"lead\">There is some documentation about creating themes for Nikola, but maybe a tutorial is also a useful way\nto explain it. So, here it is. I'll explain how to create a theme (almost) from scratch. All themes\nin Nikola must inherit from the <tt class=\"docutils literal\">base</tt> theme. In this case, we will inherit from <tt class=\"docutils literal\">bootstrap</tt>\nso we get good support for slides and galleries.</p>\n<p>I will try to create a theme that looks like <a class=\"reference external\" href=\"http://wordpress.org/themes/monospace\">Vinicius Massuchetto's Monospace Theme</a>.</p>\n<!-- TEASER_END -->\n<div class=\"section\" id=\"starting-the-theme\">\n<h2>Starting The Theme</h2>\n<p>First we will create a testing site:</p>\n<pre class=\"literal-block\">\n$ nikola init --demo monospace-site\nA new site with some sample data has been created at monospace-site.\nSee README.txt in that folder for more information.\n\n$ cd monospace-site/\n</pre>\n<p>Our theme will inherit from the <tt class=\"docutils literal\">bootstrap</tt> theme, which is full-featured but boring.</p>\n<pre class=\"literal-block\">\n$ mkdir themes\n$ mkdir themes/monospace\n$ echo bootstrap &gt; themes/monospace/parent\n</pre>\n<p>The next step is to make the testing site use this new theme, by editing <tt class=\"docutils literal\">conf.py</tt> and\nchanging the <tt class=\"docutils literal\">THEME</tt> option:</p>\n<pre class=\"literal-block\">\n# Name of the theme to use. Themes are located in themes/theme_name\nTHEME = 'monospace'\n</pre>\n<p>Now we can already build and test the site:</p>\n<pre class=\"literal-block\">\n$ nikola build &amp;&amp; nikola serve\n</pre>\n<div class=\"figure\">\n<img alt=\"http://ralsina.com.ar/galleries/monospace-tut/monospace-1.png\" src=\"http://ralsina.com.ar/galleries/monospace-tut/monospace-1.png\" style=\"height: 400px;\">\n<p class=\"caption\">This is the default \"bootstrap\" theme.</p>\n</div>\n<p>Of course, the page layout is completely different from what we want. To fix that, we need to\nget into templates.</p>\n</div>\n<div class=\"section\" id=\"templates-page-layout\">\n<h2>Templates: Page Layout</h2>\n<p>The general page layout for the theme is done by the <tt class=\"docutils literal\">base.tmpl</tt> template, which is done using\n<a class=\"reference external\" href=\"http://www.makotemplates.org/\">Mako</a>. This is bootstrap's <tt class=\"docutils literal\">base.tmpl</tt>, it's not very big:</p>\n<pre class=\"code mako literal-block\">\n<span class=\"cp\">## -*- coding: utf-8 -*-</span><span class=\"x\">\n</span><span class=\"cp\">&lt;%</span><span class=\"nb\">namespace</span> <span class=\"na\">name=</span><span class=\"s\">\"base\"</span> <span class=\"na\">file=</span><span class=\"s\">\"base_helper.tmpl\"</span> <span class=\"na\">import=</span><span class=\"s\">\"*\"</span> <span class=\"cp\">/&gt;</span><span class=\"x\">\n</span><span class=\"cp\">&lt;%</span><span class=\"nb\">namespace</span> <span class=\"na\">name=</span><span class=\"s\">\"bootstrap\"</span> <span class=\"na\">file=</span><span class=\"s\">\"bootstrap_helper.tmpl\"</span> <span class=\"na\">import=</span><span class=\"s\">\"*\"</span> <span class=\"cp\">/&gt;</span><span class=\"x\">\n</span><span class=\"cp\">${</span><span class=\"n\">set_locale</span><span class=\"p\">(</span><span class=\"n\">lang</span><span class=\"p\">)</span><span class=\"cp\">}</span><span class=\"x\">\n&lt;!DOCTYPE html&gt;\n&lt;html% if comment_system == 'facebook': xmlns:fb=\"http://ogp.me/ns/fb#\" %endif lang=\"</span><span class=\"cp\">${</span><span class=\"n\">lang</span><span class=\"cp\">}</span><span class=\"x\">\"&gt;\n&lt;head&gt;\n    &lt;meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\"&gt;\n    </span><span class=\"cp\">${</span><span class=\"n\">bootstrap</span><span class=\"o\">.</span><span class=\"n\">html_head</span><span class=\"p\">()</span><span class=\"cp\">}</span><span class=\"x\">\n    </span><span class=\"cp\">&lt;%</span><span class=\"nb\">block</span> <span class=\"na\">name=</span><span class=\"s\">\"extra_head\"</span><span class=\"cp\">&gt;</span><span class=\"x\">\n    </span><span class=\"cp\">&lt;/%</span><span class=\"nb\">block</span><span class=\"cp\">&gt;</span><span class=\"x\">\n    </span><span class=\"cp\">${</span><span class=\"n\">extra_head_data</span><span class=\"cp\">}</span><span class=\"x\">\n&lt;/head&gt;\n&lt;body&gt;\n&lt;!-- Menubar --&gt;\n&lt;div class=\"navbar navbar-fixed-top\" id=\"navbar\"&gt;\n    &lt;div class=\"navbar-inner\"&gt;\n        &lt;div class=\"container\"&gt;\n\n        &lt;!-- .btn-navbar is used as the toggle for collapsed navbar content --&gt;\n        &lt;a class=\"btn btn-navbar\" data-toggle=\"collapse\" data-target=\".nav-collapse\"&gt;\n            &lt;span class=\"icon-bar\"&gt;&lt;/span&gt;\n            &lt;span class=\"icon-bar\"&gt;&lt;/span&gt;\n            &lt;span class=\"icon-bar\"&gt;&lt;/span&gt;\n        &lt;/a&gt;\n\n            &lt;a class=\"brand\" href=\"</span><span class=\"cp\">${</span><span class=\"n\">abs_link</span><span class=\"p\">(</span><span class=\"s\">'/'</span><span class=\"p\">)</span><span class=\"cp\">}</span><span class=\"x\">\"&gt;\n            </span><span class=\"cp\">${</span><span class=\"n\">blog_title</span><span class=\"cp\">}</span><span class=\"x\">\n            &lt;/a&gt;\n            &lt;!-- Everything you want hidden at 940px or less, place within here --&gt;\n            &lt;div class=\"nav-collapse collapse\"&gt;\n                &lt;ul class=\"nav\"&gt;\n                    </span><span class=\"cp\">${</span><span class=\"n\">bootstrap</span><span class=\"o\">.</span><span class=\"n\">html_navigation_links</span><span class=\"p\">()</span><span class=\"cp\">}</span><span class=\"x\">\n                &lt;/ul&gt;\n</span>                <span class=\"cp\">%</span><span class=\"k\">if</span> <span class=\"n\">search_form</span><span class=\"p\">:</span><span class=\"x\">\n                    </span><span class=\"cp\">${</span><span class=\"n\">search_form</span><span class=\"cp\">}</span>\n                <span class=\"cp\">%</span><span class=\"k\">endif</span><span class=\"x\">\n                &lt;ul class=\"nav pull-right\"&gt;\n                </span><span class=\"cp\">&lt;%</span><span class=\"nb\">block</span> <span class=\"na\">name=</span><span class=\"s\">\"belowtitle\"</span><span class=\"cp\">&gt;</span>\n                <span class=\"cp\">%</span><span class=\"k\">if</span> <span class=\"nb\">len</span><span class=\"p\">(</span><span class=\"n\">translations</span><span class=\"p\">)</span> <span class=\"o\">&gt;</span> <span class=\"mi\">1</span><span class=\"p\">:</span><span class=\"x\">\n                    &lt;li&gt;</span><span class=\"cp\">${</span><span class=\"n\">base</span><span class=\"o\">.</span><span class=\"n\">html_translations</span><span class=\"p\">()</span><span class=\"cp\">}</span><span class=\"x\">&lt;/li&gt;\n</span>                <span class=\"cp\">%</span><span class=\"k\">endif</span><span class=\"x\">\n                </span><span class=\"cp\">&lt;/%</span><span class=\"nb\">block</span><span class=\"cp\">&gt;</span>\n                <span class=\"cp\">%</span> <span class=\"k\">if</span> <span class=\"n\">show_sourcelink</span><span class=\"p\">:</span><span class=\"x\">\n                    &lt;li&gt;</span><span class=\"cp\">&lt;%</span><span class=\"nb\">block</span> <span class=\"na\">name=</span><span class=\"s\">\"sourcelink\"</span><span class=\"cp\">&gt;&lt;/%</span><span class=\"nb\">block</span><span class=\"cp\">&gt;</span><span class=\"x\">&lt;/li&gt;\n</span>                <span class=\"cp\">%</span><span class=\"k\">endif</span><span class=\"x\">\n                &lt;/ul&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n&lt;!-- End of Menubar --&gt;\n&lt;div class=\"container-fluid\" id=\"container-fluid\"&gt;\n    &lt;!--Body content--&gt;\n    &lt;div class=\"row-fluid\"&gt;\n    &lt;div class=\"span2\"&gt;&lt;/div&gt;\n    &lt;div class=\"span8\"&gt;\n    </span><span class=\"cp\">&lt;%</span><span class=\"nb\">block</span> <span class=\"na\">name=</span><span class=\"s\">\"content\"</span><span class=\"cp\">&gt;&lt;/%</span><span class=\"nb\">block</span><span class=\"cp\">&gt;</span><span class=\"x\">\n    &lt;/div&gt;\n    &lt;/div&gt;\n    &lt;!--End of body content--&gt;\n&lt;/div&gt;\n&lt;div class=\"footerbox\"&gt;\n    </span><span class=\"cp\">${</span><span class=\"n\">content_footer</span><span class=\"cp\">}</span><span class=\"x\">\n&lt;/div&gt;\n</span><span class=\"cp\">${</span><span class=\"n\">bootstrap</span><span class=\"o\">.</span><span class=\"n\">late_load_js</span><span class=\"p\">()</span><span class=\"cp\">}</span><span class=\"x\">\n</span><span class=\"cp\">${</span><span class=\"n\">base</span><span class=\"o\">.</span><span class=\"n\">html_social</span><span class=\"p\">()</span><span class=\"cp\">}</span><span class=\"x\">\n    &lt;script&gt;jQuery(\"a.image-reference\").colorbox({rel:\"gal\",maxWidth:\"100%\",maxHeight:\"100%\",scalePhotos:true});\n    $(window).on('hashchange', function(){\n        if (location.hash &amp;&amp; $(location.hash)[0]) {\n            $('body').animate({scrollTop: $(location.hash).offset().top - $('#navbar').outerHeight(true)*1.2 }, 1);\n        }\n    });\n    $(document).ready(function(){$(window).trigger('hashchange')});\n    &lt;/script&gt;\n</span><span class=\"cp\">&lt;%</span><span class=\"nb\">block</span> <span class=\"na\">name=</span><span class=\"s\">\"extra_js\"</span><span class=\"cp\">&gt;&lt;/%</span><span class=\"nb\">block</span><span class=\"cp\">&gt;</span><span class=\"x\">\n</span><span class=\"cp\">${</span><span class=\"n\">body_end</span><span class=\"cp\">}</span><span class=\"x\">\n&lt;/body&gt;</span>\n</pre>\n<p>It's basically a HTML document with some placeholders to be replaced with actual content, configuration options, and some helper functions.\nFor example, the <tt class=\"docutils literal\">html_head</tt> helper can be used to add CSS or JS files in all document's <tt class=\"docutils literal\">head</tt> tags.</p>\n<p>Monospace is a two-column-with-footer layout, so let's copy the basics from its HTML and see what happens:</p>\n<pre class=\"code mako literal-block\">\n<span class=\"cp\">## -*- coding: utf-8 -*-</span><span class=\"x\">\n</span><span class=\"cp\">&lt;%</span><span class=\"nb\">namespace</span> <span class=\"na\">name=</span><span class=\"s\">\"base\"</span> <span class=\"na\">file=</span><span class=\"s\">\"base_helper.tmpl\"</span> <span class=\"na\">import=</span><span class=\"s\">\"*\"</span><span class=\"cp\">/&gt;</span><span class=\"x\">\n</span><span class=\"cp\">&lt;%</span><span class=\"nb\">namespace</span> <span class=\"na\">name=</span><span class=\"s\">\"bootstrap\"</span> <span class=\"na\">file=</span><span class=\"s\">\"bootstrap_helper.tmpl\"</span> <span class=\"na\">import=</span><span class=\"s\">\"*\"</span> <span class=\"cp\">/&gt;</span><span class=\"x\">\n</span><span class=\"cp\">${</span><span class=\"n\">set_locale</span><span class=\"p\">(</span><span class=\"n\">lang</span><span class=\"p\">)</span><span class=\"cp\">}</span><span class=\"x\">\n&lt;!DOCTYPE html&gt;\n&lt;html lang=\"</span><span class=\"cp\">${</span><span class=\"n\">lang</span><span class=\"cp\">}</span><span class=\"x\">\"&gt;\n&lt;head&gt;\n    </span><span class=\"cp\">${</span><span class=\"n\">bootstrap</span><span class=\"o\">.</span><span class=\"n\">html_head</span><span class=\"p\">()</span><span class=\"cp\">}</span><span class=\"x\">\n    </span><span class=\"cp\">&lt;%</span><span class=\"nb\">block</span> <span class=\"na\">name=</span><span class=\"s\">\"extra_head\"</span><span class=\"cp\">&gt;</span><span class=\"x\">\n    </span><span class=\"cp\">&lt;/%</span><span class=\"nb\">block</span><span class=\"cp\">&gt;</span><span class=\"x\">\n    </span><span class=\"cp\">${</span><span class=\"n\">extra_head_data</span><span class=\"cp\">}</span><span class=\"x\">\n&lt;/head&gt;\n&lt;body class=\"home blog\"&gt;\n    &lt;div id=\"wrap\" style=\"width:850px\"&gt;\n        &lt;div id=\"container\" style=\"width:560px\"&gt;\n            </span><span class=\"cp\">&lt;%</span><span class=\"nb\">block</span> <span class=\"na\">name=</span><span class=\"s\">\"content\"</span><span class=\"cp\">&gt;&lt;/%</span><span class=\"nb\">block</span><span class=\"cp\">&gt;</span><span class=\"x\">\n        &lt;/div&gt;\n        &lt;div id=\"sidebar\"&gt;\n            &lt;!--Sidebar content--&gt;\n            &lt;h1 id=\"blog-title\"&gt;\n                &lt;a href=\"</span><span class=\"cp\">${</span><span class=\"n\">abs_link</span><span class=\"p\">(</span><span class=\"s\">'/'</span><span class=\"p\">)</span><span class=\"cp\">}</span><span class=\"x\">\" title=\"</span><span class=\"cp\">${</span><span class=\"n\">blog_title</span><span class=\"cp\">}</span><span class=\"x\">\"&gt;</span><span class=\"cp\">${</span><span class=\"n\">blog_title</span><span class=\"cp\">}</span><span class=\"x\">&lt;/a&gt;\n            &lt;/h1&gt;\n            </span><span class=\"cp\">&lt;%</span><span class=\"nb\">block</span> <span class=\"na\">name=</span><span class=\"s\">\"belowtitle\"</span><span class=\"cp\">&gt;</span>\n            <span class=\"cp\">%</span><span class=\"k\">if</span> <span class=\"nb\">len</span><span class=\"p\">(</span><span class=\"n\">translations</span><span class=\"p\">)</span> <span class=\"o\">&gt;</span> <span class=\"mi\">1</span><span class=\"p\">:</span><span class=\"x\">\n            &lt;small&gt;\n                </span><span class=\"cp\">${</span><span class=\"p\">(</span><span class=\"n\">messages</span><span class=\"p\">(</span><span class=\"s\">\"Also available in\"</span><span class=\"p\">))</span><span class=\"cp\">}</span><span class=\"x\">:&amp;nbsp;\n                </span><span class=\"cp\">${</span><span class=\"n\">base</span><span class=\"o\">.</span><span class=\"n\">html_translations</span><span class=\"p\">()</span><span class=\"cp\">}</span><span class=\"x\">\n            &lt;/small&gt;\n</span>            <span class=\"cp\">%</span><span class=\"k\">endif</span><span class=\"x\">\n            </span><span class=\"cp\">&lt;/%</span><span class=\"nb\">block</span><span class=\"cp\">&gt;</span><span class=\"x\">\n            &lt;ul class=\"unstyled\"&gt;\n            &lt;li&gt;</span><span class=\"cp\">${</span><span class=\"n\">license</span><span class=\"cp\">}</span><span class=\"x\">\n            </span><span class=\"cp\">${</span><span class=\"n\">base</span><span class=\"o\">.</span><span class=\"n\">html_social</span><span class=\"p\">()</span><span class=\"cp\">}</span><span class=\"x\">\n            </span><span class=\"cp\">${</span><span class=\"n\">bootstrap</span><span class=\"o\">.</span><span class=\"n\">html_navigation_links</span><span class=\"p\">()</span><span class=\"cp\">}</span><span class=\"x\">\n            &lt;li&gt;</span><span class=\"cp\">${</span><span class=\"n\">search_form</span><span class=\"cp\">}</span><span class=\"x\">\n            &lt;/ul&gt;\n        &lt;/div&gt;\n        &lt;div id=\"footer\"&gt;\n            </span><span class=\"cp\">${</span><span class=\"n\">content_footer</span><span class=\"cp\">}</span><span class=\"x\">\n        &lt;/div&gt;\n    &lt;/div&gt;\n    </span><span class=\"cp\">${</span><span class=\"n\">bootstrap</span><span class=\"o\">.</span><span class=\"n\">late_load_js</span><span class=\"p\">()</span><span class=\"cp\">}</span><span class=\"x\">\n    &lt;script&gt;jQuery(\"a.image-reference\").colorbox({rel:\"gal\",maxWidth:\"100%\",maxHeight:\"100%\",scalePhotos:true});&lt;/script&gt;\n    </span><span class=\"cp\">&lt;%</span><span class=\"nb\">block</span> <span class=\"na\">name=</span><span class=\"s\">\"extra_js\"</span><span class=\"cp\">&gt;&lt;/%</span><span class=\"nb\">block</span><span class=\"cp\">&gt;</span><span class=\"x\">\n    </span><span class=\"cp\">${</span><span class=\"n\">body_end</span><span class=\"cp\">}</span><span class=\"x\">\n&lt;/body&gt;</span>\n</pre>\n<div class=\"figure\">\n<img alt=\"http://ralsina.com.ar/galleries/monospace-tut/monospace-2.png\" src=\"http://ralsina.com.ar/galleries/monospace-tut/monospace-2.png\">\n<p class=\"caption\">Yikes!</p>\n</div>\n<p>This will get better quickly once we add some CSS</p>\n</div>\n<div class=\"section\" id=\"base-css\">\n<h2>Base CSS</h2>\n<p>The orphan theme includes just a little styling, specifically <tt class=\"docutils literal\">rest.css</tt> so\nthe reStructuredText output looks reasonable, and <tt class=\"docutils literal\">code.css</tt> for code snippets.</p>\n<p>It also includes an empty <tt class=\"docutils literal\">assets/css/theme.css</tt> where you can add your own CSS.\nFor example, this is taken from the original monospace theme, except for the last\nfew selectors:</p>\n<pre class=\"code css literal-block\">\n<span class=\"nt\">body</span> <span class=\"p\">{</span> <span class=\"k\">margin</span><span class=\"o\">:</span><span class=\"m\">0px</span><span class=\"p\">;</span> <span class=\"k\">padding</span><span class=\"o\">:</span><span class=\"m\">20px</span> <span class=\"m\">0px</span><span class=\"p\">;</span> <span class=\"k\">text-align</span><span class=\"o\">:</span><span class=\"k\">center</span><span class=\"p\">;</span> <span class=\"k\">font-family</span><span class=\"o\">:</span><span class=\"n\">Monospace</span><span class=\"p\">;</span> <span class=\"k\">color</span><span class=\"o\">:</span><span class=\"m\">#585858</span><span class=\"p\">;</span> <span class=\"p\">}</span>\n<span class=\"nc\">.post</span> <span class=\"p\">{</span> <span class=\"k\">margin</span><span class=\"o\">:</span><span class=\"m\">0px</span> <span class=\"m\">0px</span> <span class=\"m\">30px</span> <span class=\"m\">0px</span><span class=\"p\">;</span> <span class=\"k\">padding</span><span class=\"o\">:</span><span class=\"m\">0px</span> <span class=\"m\">0px</span> <span class=\"m\">30px</span> <span class=\"m\">0px</span><span class=\"p\">;</span> <span class=\"k\">border-bottom</span><span class=\"o\">:</span><span class=\"m\">1px</span> <span class=\"k\">dotted</span> <span class=\"m\">#C8C8C8</span><span class=\"p\">;</span> <span class=\"p\">}</span>\n<span class=\"nc\">.meta</span> <span class=\"p\">{</span> <span class=\"k\">margin</span><span class=\"o\">:</span><span class=\"m\">10px</span><span class=\"p\">;</span> <span class=\"k\">padding</span><span class=\"o\">:</span><span class=\"m\">15px</span><span class=\"p\">;</span> <span class=\"k\">background</span><span class=\"o\">:</span><span class=\"m\">#EAEAEA</span><span class=\"p\">;</span> <span class=\"k\">clear</span><span class=\"o\">:</span><span class=\"k\">both</span><span class=\"p\">;</span> <span class=\"p\">}</span>\n<span class=\"nf\">#footer</span> <span class=\"p\">{</span> <span class=\"k\">text-align</span><span class=\"o\">:</span><span class=\"k\">center</span><span class=\"p\">;</span> <span class=\"k\">clear</span><span class=\"o\">:</span><span class=\"k\">both</span><span class=\"p\">;</span> <span class=\"k\">margin</span><span class=\"o\">:</span><span class=\"m\">30px</span> <span class=\"m\">0px</span> <span class=\"m\">0px</span> <span class=\"m\">0px</span><span class=\"p\">;</span> <span class=\"k\">padding</span><span class=\"o\">:</span><span class=\"m\">30px</span> <span class=\"m\">0px</span> <span class=\"m\">0px</span> <span class=\"m\">0px</span><span class=\"p\">;</span> <span class=\"k\">border-top</span><span class=\"o\">:</span><span class=\"m\">1px</span> <span class=\"k\">dotted</span> <span class=\"m\">#C8C8C8</span><span class=\"p\">;</span> <span class=\"p\">}</span>\n<span class=\"nf\">#wrap</span> <span class=\"p\">{</span> <span class=\"k\">margin</span><span class=\"o\">:</span><span class=\"m\">0px</span> <span class=\"k\">auto</span><span class=\"p\">;</span> <span class=\"k\">text-align</span><span class=\"o\">:</span><span class=\"k\">left</span><span class=\"p\">;</span> <span class=\"k\">font-size</span><span class=\"o\">:</span> <span class=\"m\">13px</span><span class=\"p\">;</span> <span class=\"k\">line-height</span><span class=\"o\">:</span> <span class=\"m\">1</span><span class=\"o\">.</span><span class=\"m\">4</span><span class=\"p\">;</span> <span class=\"p\">}</span>\n<span class=\"nf\">#container</span> <span class=\"p\">{</span> <span class=\"k\">float</span><span class=\"o\">:</span><span class=\"k\">right</span><span class=\"p\">;</span> <span class=\"p\">}</span>\n<span class=\"nf\">#sidebar</span> <span class=\"p\">{</span> <span class=\"k\">overflow</span><span class=\"o\">:</span><span class=\"k\">hidden</span><span class=\"p\">;</span> <span class=\"k\">clear</span><span class=\"o\">:</span><span class=\"k\">left</span><span class=\"p\">;</span> <span class=\"k\">text-align</span><span class=\"o\">:</span><span class=\"k\">right</span><span class=\"p\">;</span> <span class=\"k\">width</span><span class=\"o\">:</span><span class=\"m\">250px</span><span class=\"p\">;</span> <span class=\"k\">height</span><span class=\"o\">:</span><span class=\"k\">auto</span><span class=\"p\">;</span> <span class=\"k\">padding</span><span class=\"o\">:</span><span class=\"m\">0px</span> <span class=\"m\">15px</span> <span class=\"m\">0px</span> <span class=\"m\">0px</span><span class=\"p\">;</span> <span class=\"k\">border-right</span><span class=\"o\">:</span><span class=\"m\">1px</span> <span class=\"k\">dotted</span> <span class=\"m\">#C8C8C8</span><span class=\"p\">;</span> <span class=\"p\">}</span>\n<span class=\"nf\">#sidebar</span> <span class=\"nt\">li</span> <span class=\"p\">{</span> <span class=\"k\">list-style-type</span><span class=\"o\">:</span><span class=\"k\">none</span><span class=\"p\">;</span> <span class=\"p\">}</span>\n<span class=\"nf\">#sidebar</span> <span class=\"o\">&gt;</span> <span class=\"nt\">li</span> <span class=\"p\">{</span> <span class=\"k\">margin</span><span class=\"o\">:</span><span class=\"m\">20px</span> <span class=\"m\">0px</span><span class=\"p\">;</span> <span class=\"p\">}</span>\n<span class=\"nf\">#sidebar</span> <span class=\"nt\">h1</span> <span class=\"p\">{</span> <span class=\"k\">border-bottom</span><span class=\"o\">:</span><span class=\"m\">1px</span> <span class=\"k\">dotted</span> <span class=\"m\">#C8C8C8</span><span class=\"p\">;</span> <span class=\"p\">}</span>\n<span class=\"nf\">#sidebar</span> <span class=\"nc\">.description</span> <span class=\"p\">{</span> <span class=\"k\">display</span><span class=\"o\">:</span><span class=\"k\">block</span><span class=\"p\">;</span> <span class=\"k\">width</span><span class=\"o\">:</span><span class=\"m\">100</span><span class=\"o\">%</span><span class=\"p\">;</span> <span class=\"k\">height</span><span class=\"o\">:</span><span class=\"k\">auto</span><span class=\"p\">;</span> <span class=\"k\">margin</span><span class=\"o\">:</span><span class=\"m\">0px</span> <span class=\"m\">0px</span> <span class=\"m\">10px</span> <span class=\"m\">0px</span><span class=\"p\">;</span> <span class=\"p\">}</span>\n<span class=\"nt\">h1</span><span class=\"o\">,</span> <span class=\"nt\">h2</span><span class=\"o\">,</span> <span class=\"nt\">h3</span><span class=\"o\">,</span> <span class=\"nt\">h4</span><span class=\"o\">,</span> <span class=\"nt\">h5</span><span class=\"o\">,</span> <span class=\"nt\">h6</span><span class=\"o\">,</span> <span class=\"nt\">h7</span> <span class=\"p\">{</span> <span class=\"k\">margin</span><span class=\"o\">:</span><span class=\"m\">0px</span><span class=\"p\">;</span> <span class=\"k\">text-transform</span><span class=\"o\">:</span><span class=\"k\">uppercase</span><span class=\"p\">;</span> <span class=\"p\">}</span>\n<span class=\"nt\">h4</span><span class=\"o\">,</span> <span class=\"nt\">h5</span><span class=\"o\">,</span> <span class=\"nt\">h6</span> <span class=\"p\">{</span> <span class=\"k\">font-size</span><span class=\"o\">:</span><span class=\"m\">14px</span><span class=\"p\">;</span> <span class=\"p\">}</span>\n<span class=\"nf\">#blog-title</span> <span class=\"p\">{</span> <span class=\"k\">margin-top</span><span class=\"o\">:</span> <span class=\"m\">0</span><span class=\"p\">;</span> <span class=\"k\">line-height</span><span class=\"o\">:</span><span class=\"m\">48px</span><span class=\"p\">;}</span>\n<span class=\"nc\">.literal-block</span> <span class=\"p\">{</span><span class=\"k\">padding</span><span class=\"o\">:</span> <span class=\"m\">.5em</span><span class=\"p\">;}</span>\n<span class=\"nt\">div</span><span class=\"nc\">.sidebar</span><span class=\"o\">,</span> <span class=\"nt\">div</span><span class=\"nc\">.admonition</span><span class=\"o\">,</span> <span class=\"nt\">div</span><span class=\"nc\">.attention</span><span class=\"o\">,</span> <span class=\"nt\">div</span><span class=\"nc\">.caution</span><span class=\"o\">,</span> <span class=\"nt\">div</span><span class=\"nc\">.danger</span><span class=\"o\">,</span> <span class=\"nt\">div</span><span class=\"nc\">.error</span><span class=\"o\">,</span> <span class=\"nt\">div</span><span class=\"nc\">.hint</span><span class=\"o\">,</span> <span class=\"nt\">div</span><span class=\"nc\">.important</span><span class=\"o\">,</span> <span class=\"nt\">div</span><span class=\"nc\">.note</span><span class=\"o\">,</span> <span class=\"nt\">div</span><span class=\"nc\">.tip</span><span class=\"o\">,</span> <span class=\"nt\">div</span><span class=\"nc\">.warning</span> <span class=\"p\">{</span>\n    <span class=\"c\">/* Issue 277 */</span>\n    <span class=\"k\">border</span><span class=\"o\">:</span> <span class=\"m\">1px</span> <span class=\"k\">solid</span> <span class=\"m\">#aaa</span><span class=\"p\">;</span>\n    <span class=\"k\">border</span><span class=\"o\">-</span><span class=\"n\">radius</span><span class=\"o\">:</span> <span class=\"m\">5px</span><span class=\"p\">;</span>\n    <span class=\"k\">width</span><span class=\"o\">:</span> <span class=\"m\">100</span><span class=\"o\">%</span><span class=\"p\">;</span>\n<span class=\"p\">}</span>\n<span class=\"nt\">ul</span><span class=\"nc\">.breadcrumb</span> <span class=\"o\">&gt;</span> <span class=\"nt\">li</span><span class=\"nd\">:before</span> <span class=\"p\">{</span>\n    <span class=\"k\">content</span><span class=\"o\">:</span> <span class=\"s2\">\" / \"</span><span class=\"p\">;</span>\n<span class=\"p\">}</span>\n</pre>\n<p>This will (after we rebuild it) make the site looks different of course, and getting closer to our goal:</p>\n<div class=\"figure\">\n<img alt=\"http://ralsina.com.ar/galleries/monospace-tut/monospace-3.png\" src=\"http://ralsina.com.ar/galleries/monospace-tut/monospace-3.png\" style=\"height: 400px;\">\n<p class=\"caption\">Monospaced allright.</p>\n</div>\n<p>If you compare it to <a class=\"reference external\" href=\"http://wp-themes.com/monospace/\">the original</a>, however, you will see that the layout of\nthe posts themselves is different, and that was not described in <tt class=\"docutils literal\">base.tmpl</tt> at all. But if you look, you'll see that\nthere is a placeholder called content: <tt class=\"docutils literal\">&lt;%block <span class=\"pre\">name=\"content\"&gt;&lt;/%block&gt;</span></tt></p>\n<p>That's because <tt class=\"docutils literal\">base.tmpl</tt> defines the <em>base</em> layout. The layout of more specific pages, like \"the page that shows\na list of posts\" is defined in the other templates. Specifically, this is defined in <tt class=\"docutils literal\">index.tmpl</tt>.\nIt turns out <tt class=\"docutils literal\">bootstrap</tt> doesn' have one of those! That's because it inherits that template from <tt class=\"docutils literal\">base</tt>:</p>\n<pre class=\"code mako literal-block\">\n<span class=\"cp\">## -*- coding: utf-8 -*-</span><span class=\"x\">\n</span><span class=\"cp\">&lt;%</span><span class=\"nb\">namespace</span> <span class=\"na\">name=</span><span class=\"s\">\"helper\"</span> <span class=\"na\">file=</span><span class=\"s\">\"index_helper.tmpl\"</span><span class=\"cp\">/&gt;</span><span class=\"x\">\n</span><span class=\"cp\">&lt;%</span><span class=\"nb\">namespace</span> <span class=\"na\">name=</span><span class=\"s\">\"comments\"</span> <span class=\"na\">file=</span><span class=\"s\">\"comments_helper.tmpl\"</span><span class=\"cp\">/&gt;</span><span class=\"x\">\n</span><span class=\"cp\">&lt;%</span><span class=\"nb\">inherit</span> <span class=\"na\">file=</span><span class=\"s\">\"base.tmpl\"</span><span class=\"cp\">/&gt;</span><span class=\"x\">\n</span><span class=\"cp\">&lt;%</span><span class=\"nb\">block</span> <span class=\"na\">name=</span><span class=\"s\">\"content\"</span><span class=\"cp\">&gt;</span>\n    <span class=\"cp\">%</span> <span class=\"k\">for</span> <span class=\"n\">post</span> <span class=\"ow\">in</span> <span class=\"n\">posts</span><span class=\"p\">:</span><span class=\"x\">\n        &lt;div class=\"postbox post-</span><span class=\"cp\">${</span><span class=\"n\">post</span><span class=\"o\">.</span><span class=\"n\">meta</span><span class=\"p\">(</span><span class=\"s\">'type'</span><span class=\"p\">)</span><span class=\"cp\">}</span><span class=\"x\">\"&gt;\n        &lt;h1&gt;&lt;a href=\"</span><span class=\"cp\">${</span><span class=\"n\">post</span><span class=\"o\">.</span><span class=\"n\">permalink</span><span class=\"p\">()</span><span class=\"cp\">}</span><span class=\"x\">\"&gt;</span><span class=\"cp\">${</span><span class=\"n\">post</span><span class=\"o\">.</span><span class=\"n\">title</span><span class=\"p\">()</span><span class=\"cp\">}</span><span class=\"x\">&lt;/a&gt;\n        &lt;small&gt;&amp;nbsp;&amp;nbsp;\n            </span><span class=\"cp\">${</span><span class=\"n\">messages</span><span class=\"p\">(</span><span class=\"s\">\"Posted\"</span><span class=\"p\">)</span><span class=\"cp\">}</span><span class=\"x\">: &lt;time class=\"published\" datetime=\"</span><span class=\"cp\">${</span><span class=\"n\">post</span><span class=\"o\">.</span><span class=\"n\">date</span><span class=\"o\">.</span><span class=\"n\">isoformat</span><span class=\"p\">()</span><span class=\"cp\">}</span><span class=\"x\">\"&gt;</span><span class=\"cp\">${</span><span class=\"n\">post</span><span class=\"o\">.</span><span class=\"n\">formatted_date</span><span class=\"p\">(</span><span class=\"n\">date_format</span><span class=\"p\">)</span><span class=\"cp\">}</span><span class=\"x\">&lt;/time&gt;\n        &lt;/small&gt;&lt;/h1&gt;\n        &lt;hr&gt;\n        </span><span class=\"cp\">${</span><span class=\"n\">post</span><span class=\"o\">.</span><span class=\"n\">text</span><span class=\"p\">(</span><span class=\"n\">teaser_only</span><span class=\"o\">=</span><span class=\"n\">index_teasers</span><span class=\"p\">)</span><span class=\"cp\">}</span>\n        <span class=\"cp\">%</span> <span class=\"k\">if</span> <span class=\"ow\">not</span> <span class=\"n\">post</span><span class=\"o\">.</span><span class=\"n\">meta</span><span class=\"p\">(</span><span class=\"s\">'nocomments'</span><span class=\"p\">):</span><span class=\"x\">\n            </span><span class=\"cp\">${</span><span class=\"n\">comments</span><span class=\"o\">.</span><span class=\"n\">comment_link</span><span class=\"p\">(</span><span class=\"n\">post</span><span class=\"o\">.</span><span class=\"n\">permalink</span><span class=\"p\">(),</span> <span class=\"n\">post</span><span class=\"o\">.</span><span class=\"n\">base_path</span><span class=\"p\">)</span><span class=\"cp\">}</span>\n        <span class=\"cp\">%</span><span class=\"k\"> endif</span><span class=\"x\">\n        &lt;/div&gt;\n</span>    <span class=\"cp\">%</span><span class=\"k\"> endfor</span><span class=\"x\">\n    </span><span class=\"cp\">${</span><span class=\"n\">helper</span><span class=\"o\">.</span><span class=\"n\">html_pager</span><span class=\"p\">()</span><span class=\"cp\">}</span><span class=\"x\">\n    </span><span class=\"cp\">${</span><span class=\"n\">comments</span><span class=\"o\">.</span><span class=\"n\">comment_link_script</span><span class=\"p\">()</span><span class=\"cp\">}</span><span class=\"x\">\n    </span><span class=\"cp\">${</span><span class=\"n\">helper</span><span class=\"o\">.</span><span class=\"n\">mathjax_script</span><span class=\"p\">(</span><span class=\"n\">posts</span><span class=\"p\">)</span><span class=\"cp\">}</span><span class=\"x\">\n</span><span class=\"cp\">&lt;/%</span><span class=\"nb\">block</span><span class=\"cp\">&gt;</span>\n</pre>\n<p>So, let's tweak that to be closer to the original. We put the post's metadata in a\nbox, add links for the posts tags, move the date there, etc.</p>\n<pre class=\"code mako literal-block\">\n<span class=\"cp\">## -*- coding: utf-8 -*-</span><span class=\"x\">\n</span><span class=\"cp\">&lt;%</span><span class=\"nb\">namespace</span> <span class=\"na\">name=</span><span class=\"s\">\"helper\"</span> <span class=\"na\">file=</span><span class=\"s\">\"index_helper.tmpl\"</span><span class=\"cp\">/&gt;</span><span class=\"x\">\n</span><span class=\"cp\">&lt;%</span><span class=\"nb\">namespace</span> <span class=\"na\">name=</span><span class=\"s\">\"disqus\"</span> <span class=\"na\">file=</span><span class=\"s\">\"disqus_helper.tmpl\"</span><span class=\"cp\">/&gt;</span><span class=\"x\">\n</span><span class=\"cp\">&lt;%</span><span class=\"nb\">inherit</span> <span class=\"na\">file=</span><span class=\"s\">\"base.tmpl\"</span><span class=\"cp\">/&gt;</span><span class=\"x\">\n</span><span class=\"cp\">&lt;%</span><span class=\"nb\">block</span> <span class=\"na\">name=</span><span class=\"s\">\"content\"</span><span class=\"cp\">&gt;</span>\n    <span class=\"cp\">%</span> <span class=\"k\">for</span> <span class=\"n\">post</span> <span class=\"ow\">in</span> <span class=\"n\">posts</span><span class=\"p\">:</span><span class=\"x\">\n        &lt;div class=\"postbox post-</span><span class=\"cp\">${</span><span class=\"n\">post</span><span class=\"o\">.</span><span class=\"n\">meta</span><span class=\"p\">(</span><span class=\"s\">'type'</span><span class=\"p\">)</span><span class=\"cp\">}</span><span class=\"x\">\"&gt;\n        &lt;h1&gt;&lt;a href=\"</span><span class=\"cp\">${</span><span class=\"n\">post</span><span class=\"o\">.</span><span class=\"n\">permalink</span><span class=\"p\">()</span><span class=\"cp\">}</span><span class=\"x\">\"&gt;</span><span class=\"cp\">${</span><span class=\"n\">post</span><span class=\"o\">.</span><span class=\"n\">title</span><span class=\"p\">()</span><span class=\"cp\">}</span><span class=\"x\">&lt;/a&gt;&lt;/h1&gt;\n            &lt;div class=\"meta\" style=\"background-color: rgb(234, 234, 234); \"&gt;\n                &lt;span class=\"authordate\"&gt;\n                    </span><span class=\"cp\">${</span><span class=\"n\">messages</span><span class=\"p\">(</span><span class=\"s\">\"Posted\"</span><span class=\"p\">)</span><span class=\"cp\">}</span><span class=\"x\">: </span><span class=\"cp\">${</span><span class=\"n\">post</span><span class=\"o\">.</span><span class=\"n\">formatted_date</span><span class=\"p\">(</span><span class=\"n\">date_format</span><span class=\"p\">)</span><span class=\"cp\">}</span><span class=\"x\">\n                &lt;/span&gt;\n                &lt;br&gt;\n                &lt;span class=\"tags\"&gt;Tags:&amp;nbsp;\n</span>                    <span class=\"cp\">%</span><span class=\"k\">if</span> <span class=\"n\">post</span><span class=\"o\">.</span><span class=\"n\">tags</span><span class=\"p\">:</span><span class=\"x\">\n</span>                        <span class=\"cp\">%</span><span class=\"k\">for</span> <span class=\"n\">tag</span> <span class=\"ow\">in</span> <span class=\"n\">post</span><span class=\"o\">.</span><span class=\"n\">tags</span><span class=\"p\">:</span><span class=\"x\">\n                            &lt;a class=\"tag\" href=\"</span><span class=\"cp\">${</span><span class=\"n\">_link</span><span class=\"p\">(</span><span class=\"s\">'tag'</span><span class=\"p\">,</span> <span class=\"n\">tag</span><span class=\"p\">)</span><span class=\"cp\">}</span><span class=\"x\">\"&gt;&lt;span&gt;</span><span class=\"cp\">${</span><span class=\"n\">tag</span><span class=\"cp\">}</span><span class=\"x\">&lt;/span&gt;&lt;/a&gt;\n</span>                        <span class=\"cp\">%</span><span class=\"k\">endfor</span><span class=\"x\">\n</span>                    <span class=\"cp\">%</span><span class=\"k\">endif</span><span class=\"x\">\n                &lt;/span&gt;\n            &lt;/div&gt;\n        </span><span class=\"cp\">${</span><span class=\"n\">post</span><span class=\"o\">.</span><span class=\"n\">text</span><span class=\"p\">(</span><span class=\"n\">teaser_only</span><span class=\"o\">=</span><span class=\"n\">index_teasers</span><span class=\"p\">)</span><span class=\"cp\">}</span>\n        <span class=\"cp\">%</span> <span class=\"k\">if</span> <span class=\"ow\">not</span> <span class=\"n\">post</span><span class=\"o\">.</span><span class=\"n\">meta</span><span class=\"p\">(</span><span class=\"s\">'nocomments'</span><span class=\"p\">):</span><span class=\"x\">\n            </span><span class=\"cp\">${</span><span class=\"n\">disqus</span><span class=\"o\">.</span><span class=\"n\">html_disqus_link</span><span class=\"p\">(</span><span class=\"n\">post</span><span class=\"o\">.</span><span class=\"n\">permalink</span><span class=\"p\">()</span><span class=\"o\">+</span><span class=\"s\">\"#disqus_thread\"</span><span class=\"p\">,</span> <span class=\"n\">post</span><span class=\"o\">.</span><span class=\"n\">base_path</span><span class=\"p\">)</span><span class=\"cp\">}</span>\n        <span class=\"cp\">%</span><span class=\"k\"> endif</span><span class=\"x\">\n        &lt;/div&gt;\n</span>    <span class=\"cp\">%</span><span class=\"k\"> endfor</span><span class=\"x\">\n    </span><span class=\"cp\">${</span><span class=\"n\">helper</span><span class=\"o\">.</span><span class=\"n\">html_pager</span><span class=\"p\">()</span><span class=\"cp\">}</span><span class=\"x\">\n    </span><span class=\"cp\">${</span><span class=\"n\">disqus</span><span class=\"o\">.</span><span class=\"n\">html_disqus_script</span><span class=\"p\">()</span><span class=\"cp\">}</span><span class=\"x\">\n</span><span class=\"cp\">&lt;/%</span><span class=\"nb\">block</span><span class=\"cp\">&gt;</span>\n</pre>\n<div class=\"figure\">\n<img alt=\"http://ralsina.com.ar/galleries/monospace-tut/monospace-4.png\" src=\"http://ralsina.com.ar/galleries/monospace-tut/monospace-4.png\" style=\"height: 400px;\">\n<p class=\"caption\">Close enough!</p>\n</div>\n<p>Then if we click on the post title, we will see some broken details in the metadata that can be fixed in <tt class=\"docutils literal\">post.tmpl</tt>, and so on.</p>\n<pre class=\"code mako literal-block\">\n<span class=\"cp\">## -*- coding: utf-8 -*-</span><span class=\"x\">\n</span><span class=\"cp\">&lt;%</span><span class=\"nb\">namespace</span> <span class=\"na\">name=</span><span class=\"s\">\"helper\"</span> <span class=\"na\">file=</span><span class=\"s\">\"post_helper.tmpl\"</span><span class=\"cp\">/&gt;</span><span class=\"x\">\n</span><span class=\"cp\">&lt;%</span><span class=\"nb\">namespace</span> <span class=\"na\">name=</span><span class=\"s\">\"disqus\"</span> <span class=\"na\">file=</span><span class=\"s\">\"disqus_helper.tmpl\"</span><span class=\"cp\">/&gt;</span><span class=\"x\">\n</span><span class=\"cp\">&lt;%</span><span class=\"nb\">inherit</span> <span class=\"na\">file=</span><span class=\"s\">\"base.tmpl\"</span><span class=\"cp\">/&gt;</span><span class=\"x\">\n</span><span class=\"cp\">&lt;%</span><span class=\"nb\">block</span> <span class=\"na\">name=</span><span class=\"s\">\"extra_head\"</span><span class=\"cp\">&gt;</span><span class=\"x\">\n</span><span class=\"cp\">${</span><span class=\"n\">helper</span><span class=\"o\">.</span><span class=\"n\">twitter_card_information</span><span class=\"p\">(</span><span class=\"n\">post</span><span class=\"p\">)</span><span class=\"cp\">}</span>\n<span class=\"cp\">%</span> <span class=\"k\">if</span> <span class=\"n\">post</span><span class=\"o\">.</span><span class=\"n\">meta</span><span class=\"p\">(</span><span class=\"s\">'keywords'</span><span class=\"p\">):</span><span class=\"x\">\n    &lt;meta name=\"keywords\" content=\"</span><span class=\"cp\">${</span><span class=\"n\">post</span><span class=\"o\">.</span><span class=\"n\">meta</span><span class=\"p\">(</span><span class=\"s\">'keywords'</span><span class=\"p\">)</span><span class=\"o\">|</span><span class=\"n\">h</span><span class=\"cp\">}</span><span class=\"x\">\"/&gt;\n</span><span class=\"cp\">%</span><span class=\"k\"> endif</span><span class=\"x\">\n</span><span class=\"cp\">&lt;/%</span><span class=\"nb\">block</span><span class=\"cp\">&gt;</span><span class=\"x\">\n</span><span class=\"cp\">&lt;%</span><span class=\"nb\">block</span> <span class=\"na\">name=</span><span class=\"s\">\"content\"</span><span class=\"cp\">&gt;</span><span class=\"x\">\n    &lt;div class=\"post\"&gt;\n    </span><span class=\"cp\">${</span><span class=\"n\">helper</span><span class=\"o\">.</span><span class=\"n\">html_title</span><span class=\"p\">()</span><span class=\"cp\">}</span><span class=\"x\">\n        &lt;div class=\"meta\" style=\"background-color: rgb(234, 234, 234); \"&gt;\n        &lt;span class=\"authordate\"&gt;\n            </span><span class=\"cp\">${</span><span class=\"n\">messages</span><span class=\"p\">(</span><span class=\"s\">\"Posted\"</span><span class=\"p\">)</span><span class=\"cp\">}</span><span class=\"x\">: </span><span class=\"cp\">${</span><span class=\"n\">post</span><span class=\"o\">.</span><span class=\"n\">formatted_date</span><span class=\"p\">(</span><span class=\"n\">date_format</span><span class=\"p\">)</span><span class=\"cp\">}</span>\n            <span class=\"cp\">%</span> <span class=\"k\">if</span> <span class=\"ow\">not</span> <span class=\"n\">post</span><span class=\"o\">.</span><span class=\"n\">meta</span><span class=\"p\">(</span><span class=\"s\">'password'</span><span class=\"p\">):</span><span class=\"x\">\n            [&lt;a href=\"</span><span class=\"cp\">${</span><span class=\"n\">post</span><span class=\"o\">.</span><span class=\"n\">source_link</span><span class=\"p\">()</span><span class=\"cp\">}</span><span class=\"x\">\" id=\"sourcelink\"&gt;</span><span class=\"cp\">${</span><span class=\"n\">messages</span><span class=\"p\">(</span><span class=\"s\">\"Source\"</span><span class=\"p\">)</span><span class=\"cp\">}</span><span class=\"x\">&lt;/a&gt;]\n</span>            <span class=\"cp\">%</span><span class=\"k\"> endif</span><span class=\"x\">\n        &lt;/span&gt;\n        &lt;br&gt;\n</span>            <span class=\"cp\">%</span><span class=\"k\">if</span> <span class=\"n\">post</span><span class=\"o\">.</span><span class=\"n\">tags</span><span class=\"p\">:</span><span class=\"x\">\n                &lt;span class=\"tags\"&gt;</span><span class=\"cp\">${</span><span class=\"n\">messages</span><span class=\"p\">(</span><span class=\"s\">\"Tags\"</span><span class=\"p\">)</span><span class=\"cp\">}</span><span class=\"x\">:&amp;nbsp;\n</span>                <span class=\"cp\">%</span><span class=\"k\">for</span> <span class=\"n\">tag</span> <span class=\"ow\">in</span> <span class=\"n\">post</span><span class=\"o\">.</span><span class=\"n\">tags</span><span class=\"p\">:</span><span class=\"x\">\n                    &lt;a class=\"tag\" href=\"</span><span class=\"cp\">${</span><span class=\"n\">_link</span><span class=\"p\">(</span><span class=\"s\">'tag'</span><span class=\"p\">,</span> <span class=\"n\">tag</span><span class=\"p\">)</span><span class=\"cp\">}</span><span class=\"x\">\"&gt;&lt;span&gt;</span><span class=\"cp\">${</span><span class=\"n\">tag</span><span class=\"cp\">}</span><span class=\"x\">&lt;/span&gt;&lt;/a&gt;\n</span>                <span class=\"cp\">%</span><span class=\"k\">endfor</span><span class=\"x\">\n                &lt;/span&gt;\n                &lt;br&gt;\n</span>            <span class=\"cp\">%</span><span class=\"k\">endif</span><span class=\"x\">\n        &lt;span class=\"authordate\"&gt;\n            </span><span class=\"cp\">${</span><span class=\"n\">helper</span><span class=\"o\">.</span><span class=\"n\">html_translations</span><span class=\"p\">(</span><span class=\"n\">post</span><span class=\"p\">)</span><span class=\"cp\">}</span><span class=\"x\">\n        &lt;/span&gt;\n        &lt;/div&gt;\n    </span><span class=\"cp\">${</span><span class=\"n\">post</span><span class=\"o\">.</span><span class=\"n\">text</span><span class=\"p\">()</span><span class=\"cp\">}</span><span class=\"x\">\n    </span><span class=\"cp\">${</span><span class=\"n\">helper</span><span class=\"o\">.</span><span class=\"n\">html_pager</span><span class=\"p\">(</span><span class=\"n\">post</span><span class=\"p\">)</span><span class=\"cp\">}</span>\n    <span class=\"cp\">%</span> <span class=\"k\">if</span> <span class=\"ow\">not</span> <span class=\"n\">post</span><span class=\"o\">.</span><span class=\"n\">meta</span><span class=\"p\">(</span><span class=\"s\">'nocomments'</span><span class=\"p\">):</span><span class=\"x\">\n        </span><span class=\"cp\">${</span><span class=\"n\">disqus</span><span class=\"o\">.</span><span class=\"n\">html_disqus</span><span class=\"p\">(</span><span class=\"n\">post</span><span class=\"o\">.</span><span class=\"n\">permalink</span><span class=\"p\">(</span><span class=\"n\">absolute</span><span class=\"o\">=</span><span class=\"bp\">True</span><span class=\"p\">),</span> <span class=\"n\">post</span><span class=\"o\">.</span><span class=\"n\">title</span><span class=\"p\">(),</span> <span class=\"n\">post</span><span class=\"o\">.</span><span class=\"n\">base_path</span><span class=\"p\">)</span><span class=\"cp\">}</span>\n    <span class=\"cp\">%</span><span class=\"k\"> endif</span><span class=\"x\">\n    &lt;/div&gt;\n</span><span class=\"cp\">&lt;/%</span><span class=\"nb\">block</span><span class=\"cp\">&gt;</span>\n</pre>\n<div class=\"figure\">\n<img alt=\"http://ralsina.com.ar/galleries/monospace-tut/monospace-5.png\" src=\"http://ralsina.com.ar/galleries/monospace-tut/monospace-5.png\" style=\"height: 400px;\">\n<p class=\"caption\">Details, details.</p>\n</div>\n<p>The demo site exercises most of the features in Nikola, so if you make it look good, your site probably will look good too.\nThis monospace theme is included with nikola, if you want to use it or play with it.</p>\n</div></div>",
  "is_mathjax": false,
  "enable_comments": false,
  "tags": [],
  "formatted_date": "2012-03-13 12:00",
  "date": "2012-03-13T12:00:00-03:00",
  "is_draft": false,
  "is_private": false,
  "prev_post": null,
  "permalink": "/stories/creating-a-theme.html",
  "id_comments": "cache/stories/creating-a-theme.html",
  "text_stripped": "There is some documentation about creating themes for Nikola, but maybe a tutorial is also a useful way\nto explain it. So, here it is. I'll explain how to create a theme (almost) from scratch. All themes\nin Nikola must inherit from the base theme. In this case, we will inherit from bootstrap\nso we get good support for slides and galleries.\nI will try to create a theme that looks like Vinicius Massuchetto's Monospace Theme.\n\n\nStarting The Theme\nFirst we will create a testing site:\n\n$ nikola init --demo monospace-site\nA new site with some sample data has been created at monospace-site.\nSee README.txt in that folder for more information.\n\n$ cd monospace-site/\n\nOur theme will inherit from the bootstrap theme, which is full-featured but boring.\n\n$ mkdir themes\n$ mkdir themes/monospace\n$ echo bootstrap > themes/monospace/parent\n\nThe next step is to make the testing site use this new theme, by editing conf.py and\nchanging the THEME option:\n\n# Name of the theme to use. Themes are located in themes/theme_name\nTHEME = 'monospace'\n\nNow we can already build and test the site:\n\n$ nikola build && nikola serve\n\n\n\nThis is the default \"bootstrap\" theme.\n\nOf course, the page layout is completely different from what we want. To fix that, we need to\nget into templates.\n\n\nTemplates: Page Layout\nThe general page layout for the theme is done by the base.tmpl template, which is done using\nMako. This is bootstrap's base.tmpl, it's not very big:\n\n## -*- coding: utf-8 -*-\n<%namespace name=\"base\" file=\"base_helper.tmpl\" import=\"*\" />\n<%namespace name=\"bootstrap\" file=\"bootstrap_helper.tmpl\" import=\"*\" />\n${set_locale(lang)}\n<!DOCTYPE html>\n<html% if comment_system == 'facebook': xmlns:fb=\"http://ogp.me/ns/fb#\" %endif lang=\"${lang}\">\n<head>\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    ${bootstrap.html_head()}\n    <%block name=\"extra_head\">\n    </%block>\n    ${extra_head_data}\n</head>\n<body>\n<!-- Menubar -->\n<div class=\"navbar navbar-fixed-top\" id=\"navbar\">\n    <div class=\"navbar-inner\">\n        <div class=\"container\">\n\n        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->\n        <a class=\"btn btn-navbar\" data-toggle=\"collapse\" data-target=\".nav-collapse\">\n            <span class=\"icon-bar\"></span>\n            <span class=\"icon-bar\"></span>\n            <span class=\"icon-bar\"></span>\n        </a>\n\n            <a class=\"brand\" href=\"${abs_link('/')}\">\n            ${blog_title}\n            </a>\n            <!-- Everything you want hidden at 940px or less, place within here -->\n            <div class=\"nav-collapse collapse\">\n                <ul class=\"nav\">\n                    ${bootstrap.html_navigation_links()}\n                </ul>\n                %if search_form:\n                    ${search_form}\n                %endif\n                <ul class=\"nav pull-right\">\n                <%block name=\"belowtitle\">\n                %if len(translations) > 1:\n                    <li>${base.html_translations()}</li>\n                %endif\n                </%block>\n                % if show_sourcelink:\n                    <li><%block name=\"sourcelink\"></%block></li>\n                %endif\n                </ul>\n            </div>\n        </div>\n    </div>\n</div>\n<!-- End of Menubar -->\n<div class=\"container-fluid\" id=\"container-fluid\">\n    <!--Body content-->\n    <div class=\"row-fluid\">\n    <div class=\"span2\"></div>\n    <div class=\"span8\">\n    <%block name=\"content\"></%block>\n    </div>\n    </div>\n    <!--End of body content-->\n</div>\n<div class=\"footerbox\">\n    ${content_footer}\n</div>\n${bootstrap.late_load_js()}\n${base.html_social()}\n    <script>jQuery(\"a.image-reference\").colorbox({rel:\"gal\",maxWidth:\"100%\",maxHeight:\"100%\",scalePhotos:true});\n    $(window).on('hashchange', function(){\n        if (location.hash && $(location.hash)[0]) {\n            $('body').animate({scrollTop: $(location.hash).offset().top - $('#navbar').outerHeight(true)*1.2 }, 1);\n        }\n    });\n    $(document).ready(function(){$(window).trigger('hashchange')});\n    </script>\n<%block name=\"extra_js\"></%block>\n${body_end}\n</body>\n\nIt's basically a HTML document with some placeholders to be replaced with actual content, configuration options, and some helper functions.\nFor example, the html_head helper can be used to add CSS or JS files in all document's head tags.\nMonospace is a two-column-with-footer layout, so let's copy the basics from its HTML and see what happens:\n\n## -*- coding: utf-8 -*-\n<%namespace name=\"base\" file=\"base_helper.tmpl\" import=\"*\"/>\n<%namespace name=\"bootstrap\" file=\"bootstrap_helper.tmpl\" import=\"*\" />\n${set_locale(lang)}\n<!DOCTYPE html>\n<html lang=\"${lang}\">\n<head>\n    ${bootstrap.html_head()}\n    <%block name=\"extra_head\">\n    </%block>\n    ${extra_head_data}\n</head>\n<body class=\"home blog\">\n    <div id=\"wrap\" style=\"width:850px\">\n        <div id=\"container\" style=\"width:560px\">\n            <%block name=\"content\"></%block>\n        </div>\n        <div id=\"sidebar\">\n            <!--Sidebar content-->\n            <h1 id=\"blog-title\">\n                <a href=\"${abs_link('/')}\" title=\"${blog_title}\">${blog_title}</a>\n            </h1>\n            <%block name=\"belowtitle\">\n            %if len(translations) > 1:\n            <small>\n                ${(messages(\"Also available in\"))}:&nbsp;\n                ${base.html_translations()}\n            </small>\n            %endif\n            </%block>\n            <ul class=\"unstyled\">\n            <li>${license}\n            ${base.html_social()}\n            ${bootstrap.html_navigation_links()}\n            <li>${search_form}\n            </ul>\n        </div>\n        <div id=\"footer\">\n            ${content_footer}\n        </div>\n    </div>\n    ${bootstrap.late_load_js()}\n    <script>jQuery(\"a.image-reference\").colorbox({rel:\"gal\",maxWidth:\"100%\",maxHeight:\"100%\",scalePhotos:true});</script>\n    <%block name=\"extra_js\"></%block>\n    ${body_end}\n</body>\n\n\n\nYikes!\n\nThis will get better quickly once we add some CSS\n\n\nBase CSS\nThe orphan theme includes just a little styling, specifically rest.css so\nthe reStructuredText output looks reasonable, and code.css for code snippets.\nIt also includes an empty assets/css/theme.css where you can add your own CSS.\nFor example, this is taken from the original monospace theme, except for the last\nfew selectors:\n\nbody { margin:0px; padding:20px 0px; text-align:center; font-family:Monospace; color:#585858; }\n.post { margin:0px 0px 30px 0px; padding:0px 0px 30px 0px; border-bottom:1px dotted #C8C8C8; }\n.meta { margin:10px; padding:15px; background:#EAEAEA; clear:both; }\n#footer { text-align:center; clear:both; margin:30px 0px 0px 0px; padding:30px 0px 0px 0px; border-top:1px dotted #C8C8C8; }\n#wrap { margin:0px auto; text-align:left; font-size: 13px; line-height: 1.4; }\n#container { float:right; }\n#sidebar { overflow:hidden; clear:left; text-align:right; width:250px; height:auto; padding:0px 15px 0px 0px; border-right:1px dotted #C8C8C8; }\n#sidebar li { list-style-type:none; }\n#sidebar > li { margin:20px 0px; }\n#sidebar h1 { border-bottom:1px dotted #C8C8C8; }\n#sidebar .description { display:block; width:100%; height:auto; margin:0px 0px 10px 0px; }\nh1, h2, h3, h4, h5, h6, h7 { margin:0px; text-transform:uppercase; }\nh4, h5, h6 { font-size:14px; }\n#blog-title { margin-top: 0; line-height:48px;}\n.literal-block {padding: .5em;}\ndiv.sidebar, div.admonition, div.attention, div.caution, div.danger, div.error, div.hint, div.important, div.note, div.tip, div.warning {\n    /* Issue 277 */\n    border: 1px solid #aaa;\n    border-radius: 5px;\n    width: 100%;\n}\nul.breadcrumb > li:before {\n    content: \" / \";\n}\n\nThis will (after we rebuild it) make the site looks different of course, and getting closer to our goal:\n\n\nMonospaced allright.\n\nIf you compare it to the original, however, you will see that the layout of\nthe posts themselves is different, and that was not described in base.tmpl at all. But if you look, you'll see that\nthere is a placeholder called content: <%block name=\"content\"></%block>\nThat's because base.tmpl defines the base layout. The layout of more specific pages, like \"the page that shows\na list of posts\" is defined in the other templates. Specifically, this is defined in index.tmpl.\nIt turns out bootstrap doesn' have one of those! That's because it inherits that template from base:\n\n## -*- coding: utf-8 -*-\n<%namespace name=\"helper\" file=\"index_helper.tmpl\"/>\n<%namespace name=\"comments\" file=\"comments_helper.tmpl\"/>\n<%inherit file=\"base.tmpl\"/>\n<%block name=\"content\">\n    % for post in posts:\n        <div class=\"postbox post-${post.meta('type')}\">\n        <h1><a href=\"${post.permalink()}\">${post.title()}</a>\n        <small>&nbsp;&nbsp;\n            ${messages(\"Posted\")}: <time class=\"published\" datetime=\"${post.date.isoformat()}\">${post.formatted_date(date_format)}</time>\n        </small></h1>\n        <hr>\n        ${post.text(teaser_only=index_teasers)}\n        % if not post.meta('nocomments'):\n            ${comments.comment_link(post.permalink(), post.base_path)}\n        % endif\n        </div>\n    % endfor\n    ${helper.html_pager()}\n    ${comments.comment_link_script()}\n    ${helper.mathjax_script(posts)}\n</%block>\n\nSo, let's tweak that to be closer to the original. We put the post's metadata in a\nbox, add links for the posts tags, move the date there, etc.\n\n## -*- coding: utf-8 -*-\n<%namespace name=\"helper\" file=\"index_helper.tmpl\"/>\n<%namespace name=\"disqus\" file=\"disqus_helper.tmpl\"/>\n<%inherit file=\"base.tmpl\"/>\n<%block name=\"content\">\n    % for post in posts:\n        <div class=\"postbox post-${post.meta('type')}\">\n        <h1><a href=\"${post.permalink()}\">${post.title()}</a></h1>\n            <div class=\"meta\" style=\"background-color: rgb(234, 234, 234); \">\n                <span class=\"authordate\">\n                    ${messages(\"Posted\")}: ${post.formatted_date(date_format)}\n                </span>\n                <br>\n                <span class=\"tags\">Tags:&nbsp;\n                    %if post.tags:\n                        %for tag in post.tags:\n                            <a class=\"tag\" href=\"${_link('tag', tag)}\"><span>${tag}</span></a>\n                        %endfor\n                    %endif\n                </span>\n            </div>\n        ${post.text(teaser_only=index_teasers)}\n        % if not post.meta('nocomments'):\n            ${disqus.html_disqus_link(post.permalink()+\"#disqus_thread\", post.base_path)}\n        % endif\n        </div>\n    % endfor\n    ${helper.html_pager()}\n    ${disqus.html_disqus_script()}\n</%block>\n\n\n\nClose enough!\n\nThen if we click on the post title, we will see some broken details in the metadata that can be fixed in post.tmpl, and so on.\n\n## -*- coding: utf-8 -*-\n<%namespace name=\"helper\" file=\"post_helper.tmpl\"/>\n<%namespace name=\"disqus\" file=\"disqus_helper.tmpl\"/>\n<%inherit file=\"base.tmpl\"/>\n<%block name=\"extra_head\">\n${helper.twitter_card_information(post)}\n% if post.meta('keywords'):\n    <meta name=\"keywords\" content=\"${post.meta('keywords')|h}\"/>\n% endif\n</%block>\n<%block name=\"content\">\n    <div class=\"post\">\n    ${helper.html_title()}\n        <div class=\"meta\" style=\"background-color: rgb(234, 234, 234); \">\n        <span class=\"authordate\">\n            ${messages(\"Posted\")}: ${post.formatted_date(date_format)}\n            % if not post.meta('password'):\n            [<a href=\"${post.source_link()}\" id=\"sourcelink\">${messages(\"Source\")}</a>]\n            % endif\n        </span>\n        <br>\n            %if post.tags:\n                <span class=\"tags\">${messages(\"Tags\")}:&nbsp;\n                %for tag in post.tags:\n                    <a class=\"tag\" href=\"${_link('tag', tag)}\"><span>${tag}</span></a>\n                %endfor\n                </span>\n                <br>\n            %endif\n        <span class=\"authordate\">\n            ${helper.html_translations(post)}\n        </span>\n        </div>\n    ${post.text()}\n    ${helper.html_pager(post)}\n    % if not post.meta('nocomments'):\n        ${disqus.html_disqus(post.permalink(absolute=True), post.title(), post.base_path)}\n    % endif\n    </div>\n</%block>\n\n\n\nDetails, details.\n\nThe demo site exercises most of the features in Nikola, so if you make it look good, your site probably will look good too.\nThis monospace theme is included with nikola, if you want to use it or play with it.",
  "text_teaser": null,
  "iso_date": "2012-03-13T12:00:00-03:00",
  "next_post": null
}