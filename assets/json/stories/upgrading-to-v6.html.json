{
  "abs_permalink": "http://getnikola.com/stories/upgrading-to-v6.html",
  "template_name": "story.tmpl",
  "meta": {
    "description": "",
    "tags": "",
    "title": "Upgrading to v6",
    "annotations": "",
    "keywords": "",
    "author": "",
    "template": "",
    "date": "2013-08-23 23:00:00 UTC-03:00",
    "password": "",
    "type": "text",
    "slug": "upgrading-to-v6"
  },
  "sourcelink": "/stories/upgrading-to-v6.txt",
  "id": "/stories/upgrading-to-v6.html.json",
  "author": "Nikola Tesla",
  "use_in_feeds": false,
  "translated_to": [],
  "text": "<div><table class=\"docinfo\" frame=\"void\" rules=\"none\">\n<col class=\"docinfo-name\">\n<col class=\"docinfo-content\">\n<tbody valign=\"top\">\n<tr><th class=\"docinfo-name\">Version:</th>\n<td>7.1.0</td></tr>\n</tbody>\n</table>\n<p class=\"lead\">Nikola tries fairly hard to be compatible between versions. However, there were\na few areas which were getting clunky, and needed fxing. So, here's what you may\nneed to change in your site.</p>\n<p>If you need to change anything else, or something breaks, please write at nikola-discuss\nand I'll add further tweaks here.</p>\n<div class=\"section\" id=\"themes\">\n<h2>Themes</h2>\n<dl class=\"docutils\">\n<dt><strong>NOTE</strong></dt>\n<dd>There is no equivalent for the jinja-default theme yet. If you have a custom,\njinja-based theme, upgrading is probably a bad idea right now.</dd>\n</dl>\n<p>Themes have been renamed:</p>\n<ul class=\"simple\">\n<li>site =&gt; bootstrap</li>\n<li>orphan =&gt; base</li>\n</ul>\n<p>Theme added:</p>\n<ul class=\"simple\">\n<li>base-jinja</li>\n</ul>\n<p>Themes have been moved out of nikola and into nikola-themes:</p>\n<ul class=\"simple\">\n<li>default =&gt; oldfashioned at nikola-themes</li>\n<li>jinja-default =&gt; not there yet, coming soon</li>\n<li>monospace =&gt; monospace at nikola-themes</li>\n<li>site-reveal =&gt; reveal at nikola-themes</li>\n</ul>\n<p>You may have to change your <tt class=\"docutils literal\">THEME</tt> setting, or change the <tt class=\"docutils literal\">parent</tt> if you are\nusing a custom theme. Also, some templates have been tweaked, but nothing should\nbreak for you.</p>\n<p>Facebook comments support changed the HTML tag to:</p>\n<pre class=\"code mako literal-block\">\n<span class=\"x\">&lt;html\n</span><span class=\"cp\">%</span><span class=\"k\">if</span> <span class=\"n\">comment_system</span> <span class=\"o\">==</span> <span class=\"s\">'facebook'</span><span class=\"p\">:</span><span class=\"x\">\nxmlns:fb=\"http://ogp.me/ns/fb#\"\n</span><span class=\"cp\">%</span><span class=\"k\">endif</span><span class=\"x\">\nlang=\"</span><span class=\"cp\">${</span><span class=\"n\">lang</span><span class=\"cp\">}</span><span class=\"x\">\"&gt;</span>\n</pre>\n<p>If you do not want to use Facebook comments, you can leave the old <tt class=\"docutils literal\">&lt;html\n<span class=\"pre\">lang=\"${lang}\"&gt;</span></tt> tag in and it will work just fine.</p>\n<div class=\"section\" id=\"comments\">\n<h3>Comments</h3>\n<p>If you want a custom theme to support comment systems other than disqus, you will need to:</p>\n<ol class=\"arabic simple\">\n<li>Replace mentions of disqus_helper.tmpl with comments_helper.tmpl</li>\n<li>Replace mentions of html_disqus with comment_form</li>\n<li>Replace mentions of html_disqus_link with comment_link</li>\n<li>Replace mentions of html_disqus_script with comment_link_script</li>\n</ol>\n<p>If you don't, your theme should work just fine, but support only disqus comments.</p>\n</div>\n</div>\n<div class=\"section\" id=\"configuration\">\n<h2>Configuration</h2>\n<p>A number of options have been renamed. In most cases, the behaviour\nshould be <strong>exactly</strong> as before.</p>\n<p>However, <tt class=\"docutils literal\">post_pages</tt> was split into <tt class=\"docutils literal\">POSTS</tt> and <tt class=\"docutils literal\">PAGES</tt>.  Long\nstory short, anything that had a <tt class=\"docutils literal\">True</tt> as the <tt class=\"docutils literal\">use_in_feeds</tt>\n(last) value goes to <tt class=\"docutils literal\">POSTS</tt> and anything with <tt class=\"docutils literal\">False</tt> goes to\n<tt class=\"docutils literal\">PAGES</tt>.  For example:</p>\n<pre class=\"code python literal-block\">\n<span class=\"n\">post_pages</span> <span class=\"o\">=</span> <span class=\"p\">(</span>\n    <span class=\"p\">(</span><span class=\"s\">\"posts/*.txt\"</span><span class=\"p\">,</span> <span class=\"s\">\"\"</span><span class=\"p\">,</span> <span class=\"s\">\"post.tmpl\"</span><span class=\"p\">,</span> <span class=\"bp\">True</span><span class=\"p\">),</span>\n    <span class=\"p\">(</span><span class=\"s\">\"stories/*.txt\"</span><span class=\"p\">,</span> <span class=\"s\">\"p\"</span><span class=\"p\">,</span> <span class=\"s\">\"story.tmpl\"</span><span class=\"p\">,</span> <span class=\"bp\">False</span><span class=\"p\">),</span>\n    <span class=\"p\">(</span><span class=\"s\">\"stories/*.html\"</span><span class=\"p\">,</span> <span class=\"s\">\"s\"</span><span class=\"p\">,</span> <span class=\"s\">\"story.tmpl\"</span><span class=\"p\">,</span> <span class=\"bp\">False</span><span class=\"p\">),</span>\n<span class=\"p\">)</span>\n\n<span class=\"c\">### becomes ###</span>\n\n<span class=\"n\">POSTS</span> <span class=\"o\">=</span> <span class=\"p\">(</span>\n    <span class=\"p\">(</span><span class=\"s\">\"posts/*.txt\"</span><span class=\"p\">,</span> <span class=\"s\">\"\"</span><span class=\"p\">,</span> <span class=\"s\">\"post.tmpl\"</span><span class=\"p\">),</span>\n<span class=\"p\">)</span>\n\n<span class=\"n\">PAGES</span> <span class=\"o\">=</span> <span class=\"p\">(</span>\n    <span class=\"p\">(</span><span class=\"s\">\"stories/*.txt\"</span><span class=\"p\">,</span> <span class=\"s\">\"p\"</span><span class=\"p\">,</span> <span class=\"s\">\"story.tmpl\"</span><span class=\"p\">),</span>\n    <span class=\"p\">(</span><span class=\"s\">\"stories/*.html\"</span><span class=\"p\">,</span> <span class=\"s\">\"s\"</span><span class=\"p\">,</span> <span class=\"s\">\"story.tmpl\"</span><span class=\"p\">),</span>\n<span class=\"p\">)</span>\n</pre>\n<p>Also, you will get warnings. That doesn't mean things broke. They are\nthere to inform you of what's happening, and that you need to tweak your\nconfig.</p>\n<p>All the deprecated options will work during the v6 cycle, and only be\nremoved in v7, when those warnings will become errors.</p>\n</div></div>",
  "is_mathjax": false,
  "enable_comments": false,
  "tags": [],
  "formatted_date": "2013-08-23 23:00",
  "date": "2013-08-23T23:00:00-03:00",
  "is_draft": false,
  "is_private": false,
  "prev_post": null,
  "permalink": "/stories/upgrading-to-v6.html",
  "id_comments": "cache/stories/upgrading-to-v6.html",
  "text_stripped": "Version:\n7.1.0\n\n\nNikola tries fairly hard to be compatible between versions. However, there were\na few areas which were getting clunky, and needed fxing. So, here's what you may\nneed to change in your site.\nIf you need to change anything else, or something breaks, please write at nikola-discuss\nand I'll add further tweaks here.\n\nThemes\n\nNOTE\nThere is no equivalent for the jinja-default theme yet. If you have a custom,\njinja-based theme, upgrading is probably a bad idea right now.\n\nThemes have been renamed:\n\nsite => bootstrap\norphan => base\n\nTheme added:\n\nbase-jinja\n\nThemes have been moved out of nikola and into nikola-themes:\n\ndefault => oldfashioned at nikola-themes\njinja-default => not there yet, coming soon\nmonospace => monospace at nikola-themes\nsite-reveal => reveal at nikola-themes\n\nYou may have to change your THEME setting, or change the parent if you are\nusing a custom theme. Also, some templates have been tweaked, but nothing should\nbreak for you.\nFacebook comments support changed the HTML tag to:\n\n<html\n%if comment_system == 'facebook':\nxmlns:fb=\"http://ogp.me/ns/fb#\"\n%endif\nlang=\"${lang}\">\n\nIf you do not want to use Facebook comments, you can leave the old <html\nlang=\"${lang}\"> tag in and it will work just fine.\n\nComments\nIf you want a custom theme to support comment systems other than disqus, you will need to:\n\nReplace mentions of disqus_helper.tmpl with comments_helper.tmpl\nReplace mentions of html_disqus with comment_form\nReplace mentions of html_disqus_link with comment_link\nReplace mentions of html_disqus_script with comment_link_script\n\nIf you don't, your theme should work just fine, but support only disqus comments.\n\n\n\nConfiguration\nA number of options have been renamed. In most cases, the behaviour\nshould be exactly as before.\nHowever, post_pages was split into POSTS and PAGES.  Long\nstory short, anything that had a True as the use_in_feeds\n(last) value goes to POSTS and anything with False goes to\nPAGES.  For example:\n\npost_pages = (\n    (\"posts/*.txt\", \"\", \"post.tmpl\", True),\n    (\"stories/*.txt\", \"p\", \"story.tmpl\", False),\n    (\"stories/*.html\", \"s\", \"story.tmpl\", False),\n)\n\n### becomes ###\n\nPOSTS = (\n    (\"posts/*.txt\", \"\", \"post.tmpl\"),\n)\n\nPAGES = (\n    (\"stories/*.txt\", \"p\", \"story.tmpl\"),\n    (\"stories/*.html\", \"s\", \"story.tmpl\"),\n)\n\nAlso, you will get warnings. That doesn't mean things broke. They are\nthere to inform you of what's happening, and that you need to tweak your\nconfig.\nAll the deprecated options will work during the v6 cycle, and only be\nremoved in v7, when those warnings will become errors.",
  "text_teaser": null,
  "iso_date": "2013-08-23T23:00:00-03:00",
  "next_post": null
}